> 2주차 스터디는 챕터 1 ~ 5를 읽고 진행한다.

# 챕터1. 쏙쏙 들어오는 함수형 코딩에 오신 것을 환영합니다.

- 순수 함수란 무엇인가?
  - `인자에만 의존하고 부수 효과가 없는 함수`로, 인자에만 의존한다는 것은 같은 인자를 넣으면 항상 동일한 결과를 돌려준다는 말이다. 수학에서의 함수도 그렇게 동작하기 때문에 순수 함수를 수학 함수라고 볼 수 있다. 순수 함수는 다루기 쉽고 이해하기 쉽기 때문에 함수형 프로그래머들이 중요하게 생각한다.
- 함수형 프로그래밍에서 중요한 기술 세 가지와 그 세 가지를 구분하는 기준에 대해 아는가?
  - 함수형 프로그래머들은 코드를 액션과 계산, 그리고 데이터로 구분한다.
  - 액션은 호출하는 시점과 횟수에 의존하는 코드로 코드 전체에 영향을 줄 수 있어 조심히 다뤄야 한다.
  - 계산은 입력값으로 출력값을 만드는 것으로 같은 입력값으로 계산하면 항상 동일한 결과값을 보장한다. 외부에 영향을 주지 않고 테스트하기 쉬워 안전하다.
  - 데이터는 이벤트에 대해 기록한 사실이다. 알아보기 쉬우며 실행하지 않아도 데이터 자체로 의미가 있다.
  - 일반적으로 액션보다는 계산이, 계산보다는 데이터가 쓰기 쉽다.
- 함수형 프로그래밍이 어떻게 분산 시스템에서 생기는 문제를 해결할 수 있나?
  - 분산 시스템은 네트워크 통신을 하는 복잡한 소프트웨어다. 메시지의 순서가 섞일 수 있고, 중복되거나 유실되기도 한다. 따라서 실행 시점과 횟수에 의존하는 코드를 없애 코드를 더 이해하기 쉽게 하고, 심각한 버그를 막을 수 있다.
  - 이 실행 시점과 횟수에 의존하는 코드란 액션을 말하며 액션을 데이터와 계산으로 바꿀수록 분산 시스템에 생기는 여러가지 문제를 해결할 수 있다.
  - 불가피한 액션 코드는 코드 전체에 영향을 주지 않도록 격리시켜 해결할 수 있다.
- 함수형 사고란 무엇이며 책에서 말하는 가장 중요한 개념 두 가지는 무엇인가?
  - 함수형 사고란 함수형 프로그래머가 소프트웨어 문제를 해결하기 위해 사용하는 기술과 생각을 말한다. 함수형 프로그래밍에서 가장 중요한 개념은 액션과 계산, 데이터로 코드를 구분하는 것과 함수에 함수를 넘겨 더 많은 함수를 재사용하는 일급 추상이 있다.

### 챕터1 마무리 질문

- 왜 함수형 사고가 더 좋은 소프트웨어를 만들려는 개발자에 도움이 되는가?
  - 액션, 계산, 데이터를 구분할 수 있는 능력이 있으면 실행 시점이나 횟수에 의존하는 코드를 없애서 코드를 더 이해하기 쉽게 하여 심각한 버그를 막을 수 있다.
  - 일급 추상 개념을 사용해서 함수를 더 재사용하기 쉽게 만들 수 있다.

# 챕터2. 현실에서의 함수형 사고

- 함수형 프로그래머가 액션, 계산, 데이터로 코드를 구분하는 이유는 무엇인가?
  - 세 가지로 구분하는 이유는 쉽게 다룰 수 있는 부분과 조심히 다뤄야 할 부분을 명확하게 하기 위해서다. 액션은 호출 횟수와 시점에 의존해야 하며 외부에 영향을 주기 때문에 조심히 다뤄야 한다.
- **계층형 설계** 란 무엇이며 장점에 대해 설명해 보라
  - 계층형 설계는 일반적으로 비즈니스 규칙, 도메인 규칙, 기술 스택 계층으로 나뉘며 계층형 설계로 만든 코드는 테스트, 재사용, 유지보수가 쉽다는 장점이 있다.
  - 위의 계층은 아래 계층의 영향을 받는다.
  - 위의 계층일수록 의존성이 낮다.
- 타임라인 다이어그램이란?
  - 타임라인 다이어그램은 시간 순서에 따른 액션 실행을 눈으로 확인할 수 있다. 액션은 실행 시점에 의존하므로 실행 순서가 매우 중요하기 때문에 타임라인 다이어그램으로 순서를 한 눈에 보는 것은 중요하다.
- 분산 시스템에서 타임라인을 작성할 때 발생하는 문제점?
  - 분산 시스템에서 독립된 액션의 실행 순서는 어떻게 될지 모른다. 타임라인 다이어그램은 기본적으로 서로 순서를 맞출 수 있는 기능이 없으므로 서로 다른 타임라인에 있는 액션 간 실행 순서는 보장되지 않는다.
  - 타임라인을 서로 맞추지 않은 분산 시스템은 예측 불가능한 순서로 실행된다.
- 타임라인의 시간을 맞추는 작업을 무엇이라고 부르며 시간을 맞춰야 하는 이유는 무엇인가?
  - 여러 타임라인이 동시에 진행될 때 서로 순서를 맞추는 방법을 "타임라인 커팅"이라 부른다. 타임라인 커팅을 적용하면 각각 독립적으로 동작하는 타임라인이 작업이 완료되면 다른 타임라인이 끝나기를 기다리기 때문에 순서를 맞출 수 있다.
  - 타임라인 커팅은 액션이 올바른 순서로 실행될 수 있도록 보장해준다.

# 챕터3. 액션과 계산 데이터의 차이를 알기

- 참조 투명이란?
  - 계산은 계산을 호출하는 코드를 계산 결과로 바꿀 수 있다. 이것을 참조 투명이라고 한다. 계산의 결과는 항상 같기 때문에 여러 번 호출해도 문제가 없다.
- 코드를 작성하기 전 단계에서 액션과 계산 데이터를 어떻게 주의해서 생각해야 하는가?
  - 먼저 문제를 액션과 계산, 데이터로 나눠보고 코드를 작성할 때 주의해야 할 부분인 액션과 데이터로 처리해야 할 부분, 결정을 내려야 하는 계산 부분을 명확히 한다.
- 어떤 것을 결정하는 것은 무엇으로 표현할 수 있는가?
  - 어떤 것을 결정하는 일은 계산으로 표현할 수 있다. 행동과 행동에 필요한 것을 결정하는 단계를 나누는 것이 결국 액션과 계산을 나누는 것이다.
- 함수형 프로그래머가 불변 데이터구조를 만들기 위해 사용하는 원칙은?
  - 변경할 때 복사본을 만드는 카피-온-라이트와 보관하려는 데이터의 복사본을 만드는 방어적 복사의 원칙을 사용한다.
- 데이터의 장점과 단점에 대해 말해보라
  - 데이터는 직렬화가 가능해서 전송하거나 디스크에 저장했다가 읽기 쉽고, 비교하기가 쉬우며, 여러 가지 방법으로 자유롭게 해석할 수 있다는 장점이 있다.
  - 하지만 반드시 해석이 필요하다는 단점도 가지고 있다. 해석하지 않은 데이터는 쓸모없는 바이트일 뿐이기 때문이다.
- 가능한 계산을 사용하려고 하는 이유는 무엇일까요?
  - 테스트하기 쉽기 때문이다. 계산은 외부에 영향을 주지 않기 때문에 쉽게 테스트할 수 있으며 실행 횟수나 시점에 영향을 받지 않아 여러 번 테스트해도 문제가 없다.
- 함수형 프로그래밍의 일반적인 구현 순서는 어떻게 되며 이유는 무엇인가?
  - 데이터를 먼저 구현하고 계산을 구현한 뒤 마지막으로 액션을 구현하는 것이 일반적인 순서다. 데이터는 사용하는 데 제약이 많지만 액션은 가장 제약이 없기 때문이다.
- 액션보다 계산이 좋은 이유는 무엇이 있나?
  - 계산은 언제 어디서나 원하는 만큼 테스트할 수 있어 테스트하기 쉬우며 기계적인 분석이 쉽다. 그리고 계산은 조합하기 좋기때문에 계산을 조합해 더 큰 계산을 만들거나 할 수 있다.
- 액션은 어떻게 퍼져나가 코드 전체에 영향을 미치게 되나?
  - 액션이 호출 시점과 횟수에 따라 영향을 받기 때문에 액션을 호출하는 함수 역시 호출 시점과 횟수에 영향을 받는다. 그리고 액션을 호출하는 함수를 다른 함수가 호출하면 그 함수 역시 액션이 되고, 이런식으로 퍼져나간다.
  - 액션을 쓰는 순간 코드 전체로 퍼져나가기 때문에 사용할 때 조심해야 한다.
- 액션을 잘 사용하기 위한 방법으로 어떤 것들이 있는가?
  - 가능한 액션을 적게 사용한다. 액션을 전혀 사용하지 않을수는 없기 때문에 액션 대신 계산을 사용할 수 있는지 생각해보고 최대한 계산으로 바꾸는 것이 좋다.
  - 액션을 가능한 작게 만든다. 액션과 관련 없는 코드는 액션에서 모두 제거하는게 좋다. 결정이나 계획과 관련된 코드는 계산으로 바꿀 수 있다.
  - 액션이 외부 세계와 상호작용하는 것을 제한한다. 내부에 계산과 데이터만 있고 가장 바깥쪽에 액션이 있는 구조가 가장 이상적이다.
  - 액션이 호출 시점에 의존하는 것을 제한한다.

### 챕터3 마무리 질문

- 액션, 계산, 데이터의 관계에 대해 설명할 수 있는가?
  - 계산은 계획이나 결정을 할 때 사용하고, 데이터는 이러한 계산의 결과다. 그리고 액션을 통해 계산으로 만든 계획을 실행하게 된다.

# 챕터4. 액션에서 계산 빼내기

- 명시적 입력과 암묵적 입력, 명시적 출력과 암묵적 출력은 어떻게 다른가?
  - 명시적 입력은 인자값이다. 암묵적 입력은 인자 외 다른 입력을 말한다. 명시적 출력은 리턴값을, 압묵적 출력은 리턴값 외 다른 출력을 말한다.
  - 암묵적 입력과 출력을 부수 효과라고 부른다. 부수 효과는 함수가 하려는 주요 기능이 아니다.
  - 함수에 암묵적 입력과 출력이 있으면 액션이 된다.
- 암묵적 입력과 출력은 어떻게 바꿀 수 있을까?
  - 암묵적 입력은 전역변수를 읽거나 바꾸는 것 같은 행위다. 암묵적 입력은 인자로, 암묵적 출력은 리턴값으로 바꿀 수 있다.
- 카피-온-라이트 방법은 무엇인가?
  - 어떤 값을 바꿀 때 그 값을 복사해서 바꿔 불변성을 구현하는 방법이다.
- 액션에서 계산으로 바꾸는 방법?
  - 액션에서 계산으로 바꿀 수 있는 코드를 추출해 계산으로 바꾼 뒤 액션에서 사용한다.
  - 암묵적 입력과 출력을 바꾼다. 입력은 인자로, 출력은 리턴 값으로 바꿔야 한다.

# 챕터5. 더 좋은 액션 만들기

- 암묵적 입력과 출력이 적을수록 좋은 이유는 무엇인가?
  - 암묵적 입력과 출력이 있는 함수는 다른 컴포넌트와 강하게 연결된 컴포넌트라 할 수 있다. 다른 곳에서 사용할 수 없기 때문에 모듈이 아니며, 연결된 부분 동작에 의존한다. 암묵적 입력과 출력을 명시적으로 바꿔 모듈화된 컴포넌트로 만들어야 한다.
  - 암묵적 입력과 출력이 있는 함수는 아무 때나 실행할 수 없기 때문에 테스트하기 어렵다.
- 함수를 작게 만들면 어떤 점이 좋은가?
  - 함수는 작으면 작을수록 재사용하기 쉽고, 이해하기 쉬우며 유지보수하기 좋다. 그리고 하는 일이 적기 때문에 테스트하기에도 용이하다.
- 액션에서 암묵적 입력과 출력을 줄여 설계를 개선하는 방법?
  - 작은 함수로 나눈다. 특화된 함수보다 재사용 가능한 함수로 개선한다.
