# JVM

JVM(Java Virtual Machine)은 하드웨어 및 운영 체제 독립성을 지원한다.
JVM에 의해 실행될 컴파일된 코드는 하드웨어 및 운영 체제에 독립적인 바이너리 형식을 사용하여 표현되며 일반적으로 `class`파일 형식을 사용한다.

<img src="../assets/jvm.png"/>

## Run-Time Data Areas

JVM은 프로그램 실행 중에 사용되는 다양한 런타임 데이터 영역을 정의한다. 런타임 데이터 영역 중 일부는 JVM이 실행될 때 만들어져서 JVM이 종료될때 파괴되고, 나머지는 쓰레드별로 생성되기 때문에 쓰레드가 소멸될때 함께 파괴된다.

### pc Register

JVM은 한 번에 많은 스레드를 실행할 수 있으며, 각 JVM 스레드에는 자체 `프로그램 카운터 레지스터(Program Counter Resiter)`가 있다. JVM 스레드는 해당 스레드에 대한 현재 메소드를 실행한다.

### Java Virtual Machine Statcks

각 JVM 스레드에는 스레드와 동시에 생성된 개인 `JVM 스택`이 있다. JVM 스택은 프레임을 저장하며 로컬 변수와 부분적 결과를 저장하고 메소드 호출 및 반환 역할을 한다.
JVM 스택은 프레임을 푸시하고 팝하는 것 외에는 조작되지 않으므로 프레임이 힙에 할당될 수 있다.

### Heap

JVM에는 모든 JVM 스레드 간에 공유되는 `힙(Heap)`이 있다. 힙은 모든 클래스 인스턴스 및 배열에 대한 메모리가 할당되는 런타임 데이터 영역이다.

힙은 JVM 시작 시 생성되며, 객체에 대한 힙 스토리지는 가비지 컬렉터에 의해 회수된다.

### Method Area

`메소드 영역(Method Area)`은 JVM의 모든 스레드 간에 공유된다.
메소드 영역 역시 JVM 시작 시 생성되며, 논리적으로는 힙의 일부이다.
